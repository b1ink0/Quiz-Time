(this.webpackJsonpquizapp=this.webpackJsonpquizapp||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n.n(c),i=n(17),a=n.n(i),r=(n(22),n(23),n(5)),u=n(12),o=(n(24),n(31),u.a.initializeApp({apiKey:"AIzaSyDfhzeS7B-S4xcRccE-kDKFFX0R3ZVx0bo",authDomain:"quizapp-b1ink0.firebaseapp.com",projectId:"quizapp-b1ink0",storageBucket:"quizapp-b1ink0.appspot.com",messagingSenderId:"979392626883",appId:"1:979392626883:web:89b6e75947c56003272276"})),l=o.auth(),j=new u.a.auth.GoogleAuthProvider,d=o.firestore(),b={users:d.collection("users"),quizs:d.collection("quizs"),answers:d.collection("answers"),results:d.collection("results"),quizShare:d.collection("quizShare"),getCurrentTimeStamp:u.a.firestore.FieldValue.serverTimestamp},f=n(1),m=s.a.createContext();function h(){return Object(c.useContext)(m)}function O(e){var t=e.children,n=Object(c.useState)(),s=Object(r.a)(n,2),i=s[0],a=s[1],u=Object(c.useState)(!0),o=Object(r.a)(u,2),d=o[0],b=o[1];Object(c.useEffect)((function(){return l.onAuthStateChanged((function(e){e?(a(e),b(!1)):b(!1)}))}));var h={currentUser:i,logIn:function(){l.signInWithPopup(j).then().catch((function(e){return console.log(e)}))},logOut:function(){return l.signOut()}};return Object(f.jsx)(m.Provider,{value:h,children:!d&&t})}var x=s.a.createContext(),v=function(){return Object(c.useContext)(x)},p=function(e){var t=e.children,n=Object(c.useState)(!1),s=Object(r.a)(n,2),i=s[0],a=s[1],u=Object(c.useState)(!0),o=Object(r.a)(u,2),l=o[0],j=o[1],d=Object(c.useState)(!1),b=Object(r.a)(d,2),m=b[0],h=b[1],O=Object(c.useState)(1),v=Object(r.a)(O,2),p=v[0],N=v[1],g=Object(c.useState)([]),q=Object(r.a)(g,2),z=q[0],S=q[1],C=Object(c.useState)(""),y=Object(r.a)(C,2),w=y[0],k=y[1],Q=Object(c.useState)(!0),E=Object(r.a)(Q,2),A=E[0],I=E[1],B=Object(c.useState)(!1),T=Object(r.a)(B,2),L=T[0],R=T[1],F=Object(c.useState)(!0),D=Object(r.a)(F,2),P=D[0],U=D[1],G=Object(c.useState)([]),Z=Object(r.a)(G,2),Y=Z[0],J=Z[1],K=Object(c.useState)(""),M=Object(r.a)(K,2),V=M[0],$=M[1],W=Object(c.useState)(""),X=Object(r.a)(W,2),_=X[0],H=X[1],ee=Object(c.useState)(""),te=Object(r.a)(ee,2),ne=te[0],ce=te[1],se=Object(c.useState)(0),ie=Object(r.a)(se,2),ae=ie[0],re=ie[1],ue=Object(c.useState)(0),oe=Object(r.a)(ue,2),le=oe[0],je=oe[1],de=Object(c.useState)(0),be=Object(r.a)(de,2),fe=be[0],me=be[1],he=Object(c.useState)({quizAnswer:[]}),Oe=Object(r.a)(he,2),xe={logInCheck:i,setLogInCheck:a,profileExist:l,setProfileExist:j,quizExist:m,setQuizExist:h,qNo:p,setQNo:N,quiz:z,setQuiz:S,tempQuizAnswer:Oe[0],quizName:w,setQuizName:k,setTempQuizAnswer:Oe[1],displayQuiz:A,setDisplayQuiz:I,quizComplete:L,setQuizComplete:R,tempAnswer:Y,setTempAnswer:J,score:ae,setScore:re,quizShareAnswerName:V,setQuizShareAnswerName:$,quizShareResultName:ne,setQuizShareResultName:ce,quizShareName:_,setQuizShareName:H,quizGiven:P,setQuizGiven:U,userScore:le,setUserScore:je,totalScore:fe,setTotalScore:me};return Object(f.jsx)(x.Provider,{value:xe,children:t})},N=n(10),g=n.n(N),q=n(11);n(15),n(16);function z(e){var t=e.quiz,n=v(),s=n.tempAnswer,i=n.setTempAnswer,a=n.setQuizComplete,u=Object(c.useState)(!1),o=Object(r.a)(u,2),l=(o[0],o[1],Object(c.useState)(!1)),j=Object(r.a)(l,2),d=j[0],b=j[1],m=Object(c.useState)(0),h=Object(r.a)(m,2),O=h[0],x=h[1],p=Object(c.useState)(0),N=Object(r.a)(p,2),g=N[0],q=N[1],z=s;void 0===z[0]&&t.map((function(e){z.push({qNo:e.qNo,answer:"",solved:!1})})),Object(c.useState)((function(){q(t.length-1)}),[]);var S=function(e){z.forEach((function(n){if(parseInt(e.target.name)===n.qNo){var c;t.forEach((function(t){t.qNo===n.qNo&&(c=e.target.value)}));var s={qNo:parseInt(e.target.name),answer:c,solved:!0};z[n.qNo-1]=s;var i=document.querySelector(".".concat(e.target.value).concat(e.target.name));["a","b","c","d"].forEach((function(t){t===e.target.value?void 0===i.classList[6]&&i.classList.toggle("radioBtnSelected"):"radioBtnSelected"===document.querySelector(".".concat(t).concat(e.target.name)).classList[6]&&document.querySelector(".".concat(t).concat(e.target.name)).classList.toggle("radioBtnSelected")}))}})),C()},C=function(){var e=0;z.forEach((function(t){t.solved&&e++})),e===t.length&&b(!0)},y=function(e,t){if(t){if(t&&""!==z[e-2].answer)try{console.log(".".concat(z[e-2].answer).concat(parseInt(e)-1));var n=z[e-2].answer+(e-1);setTimeout((function(){document.getElementById(n).classList.toggle("radioBtnSelected")}),100)}catch(s){console.log("not active")}}else if(console.log(e),""!==z[e].answer)try{var c=z[e].answer+(parseInt(e)+1);setTimeout((function(){document.getElementById(c).classList.toggle("radioBtnSelected")}),100)}catch(i){console.log("not active")}};return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var n=0;z.forEach((function(e){e.solved&&n++})),n===t.length&&(b(!0),console.log("submited"),i(z),a(!0))}(e)},className:"qForm relative flex justify-center items-center w-full flex-col text-center",children:[Object(f.jsxs)("div",{className:"queCon flex justify-center items-center flex-col overflow-hidden",children:[Object(f.jsxs)("div",{className:"queTopCon flex justify-between items-center w-full",children:[Object(f.jsxs)("h1",{children:["Q-",t[O].qNo]}),Object(f.jsxs)("h1",{children:[O+1,"/",t.length]})]}),Object(f.jsx)("div",{className:"qCon",children:Object(f.jsx)("h1",{children:t[O].q})}),Object(f.jsxs)("div",{className:"options w-full",children:[Object(f.jsxs)("div",{className:"optionsRow1 flex justify-evenly items-center",children:[Object(f.jsxs)("div",{className:"radioBtnCon relative flex justify-center items-center a".concat(t[O].qNo),id:"a".concat(t[O].qNo),children:[Object(f.jsx)("label",{children:t[O].a}),Object(f.jsx)("input",{className:"absolute",type:"radio",value:"a",name:t[O].qNo,onClick:function(e){return S(e)},required:!0})]}),Object(f.jsxs)("div",{className:"radioBtnCon relative flex justify-center items-center b".concat(t[O].qNo),id:"b".concat(t[O].qNo),children:[Object(f.jsx)("label",{children:t[O].b}),Object(f.jsx)("input",{className:"absolute",type:"radio",value:"b",name:t[O].qNo,onClick:function(e){return S(e)},required:!0})]})]}),Object(f.jsxs)("div",{className:"optionsRow2 flex justify-evenly items-center",children:[Object(f.jsxs)("div",{className:"radioBtnCon relative flex justify-center items-center c".concat(t[O].qNo),id:"c".concat(t[O].qNo),children:[Object(f.jsx)("label",{children:t[O].c}),Object(f.jsx)("input",{className:"absolute",type:"radio",value:"c",name:t[O].qNo,onClick:function(e){return S(e)},required:!0})]}),Object(f.jsxs)("div",{className:"radioBtnCon relative flex justify-center items-center d".concat(t[O].qNo),id:"d".concat(t[O].qNo),children:[Object(f.jsx)("label",{children:t[O].d}),Object(f.jsx)("input",{className:"absolute",type:"radio",value:"d",name:t[O].qNo,onClick:function(e){return S(e)},required:!0})]})]})]}),Object(f.jsxs)("div",{className:"changeButton w-full flex justify-evenly items-center",children:[0===O?"":Object(f.jsx)("button",{className:"prevBtn",type:"button",value:t[O].qNo,onClick:function(e){return function(e){O>0&&x(O-1),y(parseInt(e.target.value),!0)}(e)},children:"Prev"}),O>=g?"":Object(f.jsx)("button",{className:"nextBtn",type:"button",value:t[O].qNo,onClick:function(e){return function(e){O<g&&x(O+1),y(parseInt(e.target.value),!1)}(e)},children:"Next"})]})]}),Object(f.jsx)("button",{className:"submitCon ".concat(d&&"opacitySubmitBtn"),disabled:!d,type:"submit",children:"Submit"})]})})}function S(){var e=h().currentUser,t=Object(c.useState)(!0),n=Object(r.a)(t,2),s=n[0],i=n[1],a=v(),u=a.quizExist,o=a.quiz,l=a.quizComplete,j=a.tempAnswer,m=a.score,O=a.setScore,x=a.quizShareName,p=a.quizShareAnswerName,N=a.quizShareResultName;return Object(c.useEffect)((function(){var t;return l&&e&&(t=b.answers.doc(p).get().then((function(t){t.exists&&function(t){var n,c=0;t.quizAnswerContainer.quizAnswer.forEach((function(e){e.answer===j[e.qNo-1].answer&&c++})),O(c),i(!1),e&&(n=b.results.doc(N).get().then((function(t){var n=t.data().quizResultContainer.submissions;if(n.push({uid:e.uid,quizName:x,userScore:c,totalScore:j.length}),void 0!==t.data().quizResultContainer.submissions[0]){var s=!1;t.data().quizResultContainer.submissions.forEach((function(t){t.uid===e.uid&&(s=!0)})),console.log(s),!1===s&&d.collection("results").doc(N).update({quizResultContainer:{quizName:x,submissions:n}})}else{var i=!1;t.data().quizResultContainer.submissions.forEach((function(t){t.uid===e.uid&&(i=!0)})),console.log(i),!1===i&&d.collection("results").doc(N).update({quizResultContainer:{quizName:x,submissions:n}})}c=0})))}(t.data())}))),t}),[l]),Object(f.jsx)(f.Fragment,{children:u&&!l?Object(f.jsx)(z,{quiz:o}):l?!s&&Object(f.jsx)("div",{className:"resultCon w-full flex justify-center items-center",children:Object(f.jsxs)("div",{className:"result flex justify-center items-center flex-col",children:[Object(f.jsxs)("h1",{children:["Score: ",m,"/",j.length]}),Object(f.jsx)("h1",{children:"Quiz has been submited!"})]})}):"Quiz Does Not Exist"})}var C=n.p+"static/media/logoT.72657f0b.svg";function y(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(""),a=Object(r.a)(i,2),u=a[0],o=a[1],j=Object(c.useState)(""),d=Object(r.a)(j,2),m=d[0],O=d[1],x=Object(c.useState)(""),p=Object(r.a)(x,2),N=p[0],z=p[1],y=Object(c.useState)(""),w=Object(r.a)(y,2),k=w[0],Q=w[1],E=Object(c.useState)(""),A=Object(r.a)(E,2),I=A[0],B=A[1],T=Object(c.useState)(!1),L=Object(r.a)(T,2),R=L[0],F=L[1],D=Object(c.useState)(!1),P=Object(r.a)(D,2),U=P[0],G=P[1],Z=h(),Y=Z.currentUser,J=Z.logOut,K=v(),M=K.setLogInCheck,V=K.profileExist,$=K.setProfileExist,W=K.setQuiz,X=K.setQuizExist,_=K.quizExist,H=K.setQuizName,ee=K.quizName,te=K.displayQuiz,ne=K.setDisplayQuiz,ce=K.setQNo,se=K.setQuizComplete,ie=(K.setTempAnswer,K.setTempQuizAnswer),ae=K.setScore,re=K.quizShareName,ue=K.setQuizShareName,oe=K.quizShareAnswerName,le=K.setQuizShareAnswerName,je=K.quizShareResultName,de=K.setQuizShareResultName,be=K.quizGiven,fe=K.setQuizGiven,me=K.userScore,he=K.setUserScore,Oe=K.totalScore,xe=K.setTotalScore,ve=function(){var e=Object(q.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{J(),$(!0),M(!1),X(!1),ce(1),W([]),H(""),ne(!0),se(!1),ue(""),le(""),de(""),fe(!0),ie({quizAnswer:[]}),ae(0),s(""),l.onAuthStateChanged((function(e){e||M(!1)}))}catch(t){s("Failed To LogOut"),console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){var e;return Y&&(e=b.users.doc(Y.uid).get().then((function(e){if(e.exists)return e.data()&&(e.data().uid,Y.uid),void $(!0);$(!1)}))),e}),[]),Object(c.useEffect)((function(){var e;return Y&&(e=b.quizShare.doc("quizShare").get().then((function(e){e.exists&&e.data()&&(ue(e.data().quizShareContainer.quizName),le(e.data().quizShareContainer.quizAnswerName),de(e.data().quizShareContainer.quizResultName))}))),e}),[V]),Object(c.useEffect)((function(){var e;return""!==re&&Y&&(e=b.quizs.doc(re).get().then((function(e){e.exists?e.data()&&(W(e.data().quizContainer.quiz),H(e.data().quizContainer.quizName)):X(!1)}))),e}),[oe]),Object(c.useEffect)((function(){var e;return""!==je&&Y&&(e=b.results.doc(je).get().then((function(e){if(e.exists){if(e.data())if(void 0!==e.data().quizResultContainer.submissions[0]){var t=!1;e.data().quizResultContainer.submissions.forEach((function(e){e.uid===Y.uid&&(t=!0,he(e.userScore),xe(e.totalScore))})),!1===t?(X(!0),fe(!1)):(X(!0),fe(!0))}else X(!0),fe(!1)}else;}))),e}),[je]);var pe=function(){document.querySelector(".preBack").classList.toggle("fadeOut"),document.querySelector(".preBackCon").classList.toggle("fadeOut2"),setTimeout((function(){G(!1)}),410)};return Object(c.useEffect)((function(){ne(!0)}),[R,F]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"logoCon flex justify-center items-center",children:[Object(f.jsx)("img",{src:C,alt:"logo"}),Object(f.jsx)("h1",{children:"Quiz Time"})]}),!te&&Object(f.jsx)("div",{className:"back absolute flex justify-center items-center",onClick:function(){return G(!0)},children:Object(f.jsx)("img",{src:"https://img.icons8.com/ios-filled/50/000000/left.png"})}),U&&Object(f.jsx)("div",{className:"preBackCon w-full flex justify-center items-center",children:Object(f.jsxs)("div",{className:"preBack flex justify-center items-center flex-col",children:[Object(f.jsx)("h1",{children:"If you go back your progress will be lost!"}),Object(f.jsx)("h1",{children:"Do you still want to go back ?"}),Object(f.jsxs)("div",{className:"w-full flex justify-evenly items-center",children:[Object(f.jsx)("button",{onClick:function(){return pe()},children:"No"}),Object(f.jsx)("button",{onClick:function(){return pe(),void setTimeout((function(){F(!R)}),410)},children:"Yes"})]})]})}),te&&Object(f.jsx)("div",{className:"subTitle",children:Object(f.jsx)("h1",{children:"Avilable Quizes"})}),V?te&&(_?Object(f.jsx)("div",{className:"quizPrevCon cursor-pointer flex justify-center items-center w-full flex-col",onClick:function(){!1===be&&ne(!1)},children:Object(f.jsxs)("div",{className:"quizCon flex justify-center items-start flex-col text-center",children:[Object(f.jsxs)("h1",{className:"w-full text-center",children:["Quiz Name: ",ee]}),be?Object(f.jsxs)("div",{className:"w-full text-center",children:[Object(f.jsx)("p",{className:"w-full text-center",children:"You have already submited the quiz"}),Object(f.jsxs)("h1",{className:"w-full text-center",children:["Score: ",me,"/",Oe]})]}):Object(f.jsx)("p",{className:"w-full text-center",children:"Click To Start The Quiz"})]})}):Object(f.jsx)("h1",{className:"w-full text-center",children:'"Quiz are not avilable yet!"'})):Object(f.jsxs)("form",{onSubmit:function(e){return function(e){var t;return e.preventDefault(),I.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)?Y&&(t=b.users.doc(Y.uid).get().then((function(e){e.exists||(b.users.doc(Y.uid).set({fullName:{firstName:u,middleName:m,lastName:N,username:k},email:I,uid:Y.uid}),o(""),O(""),z(""),B(""),$(!0))}))):window.location.reload(),t}(e)},className:"formCon flex justify-start items-center flex-col",children:[Object(f.jsxs)("div",{className:"inputCon",children:[Object(f.jsx)("label",{children:"First Name:"}),Object(f.jsx)("input",{type:"text",value:u,required:!0,onChange:function(e){return o(e.target.value)}})]}),Object(f.jsxs)("div",{className:"inputCon",children:[Object(f.jsx)("label",{children:"Middle Name:"}),Object(f.jsx)("input",{type:"text",value:m,required:!0,onChange:function(e){return O(e.target.value)}})]}),Object(f.jsxs)("div",{className:"inputCon",children:[Object(f.jsx)("label",{children:"Last Name:"}),Object(f.jsx)("input",{type:"text",value:N,required:!0,onChange:function(e){return z(e.target.value)}})]}),Object(f.jsxs)("div",{className:"inputCon",children:[Object(f.jsx)("label",{children:"Username:"}),Object(f.jsx)("input",{type:"text",value:k,required:!0,minLength:"4",maxLength:"10",onChange:function(e){return Q(e.target.value)}})]}),Object(f.jsxs)("div",{className:"inputCon",children:[Object(f.jsx)("label",{children:"Email:"}),Object(f.jsx)("input",{type:"email",value:I,required:!0,onChange:function(e){return B(e.target.value)}})]}),Object(f.jsx)("button",{type:"submit",children:"Save"})]}),!te&&Object(f.jsx)(S,{}),Object(f.jsx)("div",{className:"logOutCon w-full flex justify-center items-center",children:Object(f.jsx)("button",{className:"",onClick:ve,children:"LogOut"})})]})}n(29);function w(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1],i=h().logIn,a=function(){var e=Object(q.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(""),e.next=4,i();case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),s("Failed To Log In"),console.log(n);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"welcomePage flex justify-center items-center flex-col",children:[Object(f.jsxs)("div",{className:"logoCon flex justify-center items-center",children:[Object(f.jsx)("img",{src:C,alt:"logo"}),Object(f.jsx)("h1",{children:"Quiz Time"})]}),Object(f.jsx)("p",{className:"text-center"}),Object(f.jsx)("div",{className:"logInBtnCon flex justify-center items-center font-mono",children:Object(f.jsx)("button",{onClick:a,children:"Log In"})}),Object(f.jsxs)("p",{className:"quoteCon text-center",children:[Object(f.jsx)("span",{children:'"'}),"You should know little about a lot",Object(f.jsx)("span",{children:'"'})]})]})})}function k(){var e=h().currentUser,t=v(),n=t.logInCheck,c=t.setLogInCheck;return e&&l.onAuthStateChanged((function(e){e?c(!0):e||c(!1)})),Object(f.jsx)(f.Fragment,{children:n?Object(f.jsx)(y,{}):Object(f.jsx)(w,{})})}var Q=function(){return Object(f.jsx)(O,{children:Object(f.jsxs)(p,{children:[Object(f.jsx)(k,{}),Object(f.jsx)("div",{className:"borderCon"})]})})};a.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(Q,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.6325a944.chunk.js.map