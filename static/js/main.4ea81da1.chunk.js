(this.webpackJsonpquizapp=this.webpackJsonpquizapp||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var s=n(2),i=n.n(s),a=n(15),c=n.n(a),r=(n(20),n(21),n(5)),u=n(12),o=(n(22),n(31),u.a.initializeApp({apiKey:"AIzaSyDfhzeS7B-S4xcRccE-kDKFFX0R3ZVx0bo",authDomain:"quizapp-b1ink0.firebaseapp.com",projectId:"quizapp-b1ink0",storageBucket:"quizapp-b1ink0.appspot.com",messagingSenderId:"979392626883",appId:"1:979392626883:web:89b6e75947c56003272276"})),l=o.auth(),j=new u.a.auth.GoogleAuthProvider,b=o.firestore(),d={users:b.collection("users"),quizs:b.collection("quizs"),answers:b.collection("answers"),results:b.collection("results"),quizShare:b.collection("quizShare"),getCurrentTimeStamp:u.a.firestore.FieldValue.serverTimestamp},h=n(1),O=i.a.createContext();function m(){return Object(s.useContext)(O)}function f(e){var t=e.children,n=Object(s.useState)(),i=Object(r.a)(n,2),a=i[0],c=i[1],u=Object(s.useState)(!0),o=Object(r.a)(u,2),b=o[0],d=o[1];Object(s.useEffect)((function(){return l.onAuthStateChanged((function(e){e?(c(e),d(!1)):d(!1)}))}));var m={currentUser:a,logIn:function(){l.signInWithPopup(j).then().catch((function(e){return console.log(e)}))},logOut:function(){return l.signOut()}};return Object(h.jsx)(O.Provider,{value:m,children:!b&&t})}var x=i.a.createContext(),p=function(){return Object(s.useContext)(x)},z=function(e){var t=e.children,n=Object(s.useState)(!1),i=Object(r.a)(n,2),a=i[0],c=i[1],u=Object(s.useState)(!0),o=Object(r.a)(u,2),l=o[0],j=o[1],b=Object(s.useState)(!1),d=Object(r.a)(b,2),O=d[0],m=d[1],f=Object(s.useState)(1),p=Object(r.a)(f,2),z=p[0],v=p[1],q=Object(s.useState)([]),N=Object(r.a)(q,2),S=N[0],g=N[1],C=Object(s.useState)(""),w=Object(r.a)(C,2),Q=w[0],y=w[1],A=Object(s.useState)(!0),E=Object(r.a)(A,2),k=E[0],I=E[1],T=Object(s.useState)(!1),R=Object(r.a)(T,2),F=R[0],L=R[1],B=Object(s.useState)(!0),D=Object(r.a)(B,2),P=D[0],U=D[1],G=Object(s.useState)([]),Z=Object(r.a)(G,2),J=Z[0],K=Z[1],M=Object(s.useState)(""),V=Object(r.a)(M,2),Y=V[0],$=V[1],W=Object(s.useState)(""),X=Object(r.a)(W,2),_=X[0],H=X[1],ee=Object(s.useState)(""),te=Object(r.a)(ee,2),ne=te[0],se=te[1],ie=Object(s.useState)(0),ae=Object(r.a)(ie,2),ce=ae[0],re=ae[1],ue=Object(s.useState)(0),oe=Object(r.a)(ue,2),le=oe[0],je=oe[1],be=Object(s.useState)(0),de=Object(r.a)(be,2),he=de[0],Oe=de[1],me=Object(s.useState)({quizAnswer:[]}),fe=Object(r.a)(me,2),xe={logInCheck:a,setLogInCheck:c,profileExist:l,setProfileExist:j,quizExist:O,setQuizExist:m,qNo:z,setQNo:v,quiz:S,setQuiz:g,tempQuizAnswer:fe[0],quizName:Q,setQuizName:y,setTempQuizAnswer:fe[1],displayQuiz:k,setDisplayQuiz:I,quizComplete:F,setQuizComplete:L,tempAnswer:J,setTempAnswer:K,score:ce,setScore:re,quizShareAnswerName:Y,setQuizShareAnswerName:$,quizShareResultName:ne,setQuizShareResultName:se,quizShareName:_,setQuizShareName:H,quizGiven:P,setQuizGiven:U,userScore:le,setUserScore:je,totalScore:he,setTotalScore:Oe};return Object(h.jsx)(x.Provider,{value:xe,children:t})},v=n(10),q=n.n(v),N=n(11);n(27);function S(e){var t=e.quiz,n=p(),i=n.tempAnswer,a=n.setTempAnswer,c=n.setQuizComplete,u=Object(s.useState)(!1),o=Object(r.a)(u,2),l=(o[0],o[1],i);void 0===l[0]&&t.map((function(e){l.push({qNo:e.qNo,answer:""})}));var j=function(e){l.forEach((function(n){if(parseInt(e.target.name)===n.qNo){var s;t.forEach((function(t){t.qNo===n.qNo&&(s=e.target.value)}));var i={qNo:parseInt(e.target.name),answer:s};l[n.qNo-1]=i}}))};return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),a(l),c(!0)}(e)},children:[t&&t.map((function(e){return Object(h.jsxs)("div",{className:"queCon",children:[Object(h.jsx)("div",{className:"qCon",children:Object(h.jsx)("h1",{children:e.q})}),Object(h.jsxs)("div",{className:"options",children:[Object(h.jsxs)("div",{className:"radioBtnCon",children:[Object(h.jsx)("label",{children:e.a}),Object(h.jsx)("input",{type:"radio",value:"a",name:e.qNo,onChange:function(e){return j(e)},required:!0})]}),Object(h.jsxs)("div",{className:"radioBtnCon",children:[Object(h.jsx)("label",{children:e.b}),Object(h.jsx)("input",{type:"radio",value:"b",name:e.qNo,onChange:function(e){return j(e)},required:!0})]}),Object(h.jsxs)("div",{className:"radioBtnCon",children:[Object(h.jsx)("label",{children:e.c}),Object(h.jsx)("input",{type:"radio",value:"c",name:e.qNo,onChange:function(e){return j(e)},required:!0})]}),Object(h.jsxs)("div",{className:"radioBtnCon",children:[Object(h.jsx)("label",{children:e.d}),Object(h.jsx)("input",{type:"radio",value:"d",name:e.qNo,onChange:function(e){return j(e)},required:!0})]})]})]},e.qNo)})),Object(h.jsx)("button",{type:"submit",children:"Submit"})]})})}n(28);function g(){var e=m().currentUser,t=Object(s.useState)(!0),n=Object(r.a)(t,2),i=n[0],a=n[1],c=p(),u=c.quizExist,o=c.quiz,l=c.quizComplete,j=c.tempAnswer,O=c.score,f=c.setScore,x=c.quizShareName,z=c.quizShareAnswerName,v=c.quizShareResultName;return Object(s.useEffect)((function(){var t;return l&&e&&(t=d.answers.doc(z).get().then((function(t){t.exists&&function(t){var n,s=0;t.quizAnswerContainer.quizAnswer.forEach((function(e){e.answer===j[e.qNo-1].answer&&s++})),f(s),a(!1),e&&(n=d.results.doc(v).get().then((function(t){var n=t.data().quizResultContainer.submissions;if(n.push({uid:e.uid,quizName:x,userScore:s,totalScore:j.length}),void 0!==t.data().quizResultContainer.submissions[0]){var i=!1;t.data().quizResultContainer.submissions.forEach((function(t){t.uid===e.uid&&(i=!0)})),console.log(i),!1===i&&b.collection("results").doc(v).update({quizResultContainer:{quizName:x,submissions:n}})}else{var a=!1;t.data().quizResultContainer.submissions.forEach((function(t){t.uid===e.uid&&(a=!0)})),console.log(a),!1===a&&b.collection("results").doc(v).update({quizResultContainer:{quizName:x,submissions:n}})}s=0})))}(t.data())}))),t}),[l]),Object(h.jsx)(h.Fragment,{children:u&&!l?Object(h.jsx)(S,{quiz:o}):l?!i&&Object(h.jsxs)("div",{className:"result",children:[O,"/",j.length,Object(h.jsx)("h1",{children:"Quiz has been submited!"})]}):"Quiz Does Not Exist"})}var C=n.p+"static/media/logoT.72657f0b.svg";function w(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),n=t[0],i=t[1],a=Object(s.useState)(""),c=Object(r.a)(a,2),u=c[0],o=c[1],j=Object(s.useState)(""),b=Object(r.a)(j,2),O=b[0],f=b[1],x=Object(s.useState)(""),z=Object(r.a)(x,2),v=z[0],S=z[1],w=Object(s.useState)(""),Q=Object(r.a)(w,2),y=Q[0],A=Q[1],E=Object(s.useState)(""),k=Object(r.a)(E,2),I=k[0],T=k[1],R=m(),F=R.currentUser,L=R.logOut,B=p(),D=B.setLogInCheck,P=B.profileExist,U=B.setProfileExist,G=B.setQuiz,Z=B.setQuizExist,J=B.quizExist,K=B.setQuizName,M=B.quizName,V=B.displayQuiz,Y=B.setDisplayQuiz,$=B.setQNo,W=B.setQuizComplete,X=(B.setTempAnswer,B.setTempQuizAnswer),_=B.setScore,H=B.quizShareName,ee=B.setQuizShareName,te=B.quizShareAnswerName,ne=B.setQuizShareAnswerName,se=B.quizShareResultName,ie=B.setQuizShareResultName,ae=B.quizGiven,ce=B.setQuizGiven,re=B.userScore,ue=B.setUserScore,oe=B.totalScore,le=B.setTotalScore,je=function(){var e=Object(N.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{L(),U(!0),D(!1),Z(!1),$(1),G([]),K(""),Y(!0),W(!1),ee(""),ne(""),ie(""),ce(!0),X({quizAnswer:[]}),_(0),i(""),l.onAuthStateChanged((function(e){e||D(!1)}))}catch(t){i("Failed To LogOut"),console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){var e;return F&&(e=d.users.doc(F.uid).get().then((function(e){if(e.exists)return e.data()&&(e.data().uid,F.uid),void U(!0);U(!1)}))),e}),[]),Object(s.useEffect)((function(){var e;return F&&(e=d.quizShare.doc("quizShare").get().then((function(e){e.exists&&e.data()&&(ee(e.data().quizShareContainer.quizName),ne(e.data().quizShareContainer.quizAnswerName),ie(e.data().quizShareContainer.quizResultName))}))),e}),[P]),Object(s.useEffect)((function(){var e;return""!=H&&F&&(e=d.quizs.doc(H).get().then((function(e){e.exists?e.data()&&(G(e.data().quizContainer.quiz),K(e.data().quizContainer.quizName)):Z(!1)}))),e}),[te]),Object(s.useEffect)((function(){var e;return""!=se&&F&&(e=d.results.doc(se).get().then((function(e){if(e.exists){if(e.data())if(void 0!=e.data().quizResultContainer.submissions[0]){var t=!1;e.data().quizResultContainer.submissions.forEach((function(e){e.uid==F.uid&&(t=!0,ue(e.userScore),le(e.totalScore))})),!1===t?(Z(!0),ce(!1)):(Z(!0),ce(!0))}else Z(!0),ce(!1)}else;}))),e}),[se]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"logoCon flex justify-center items-center",children:[Object(h.jsx)("img",{src:C,alt:"logo"}),Object(h.jsx)("h1",{children:"Quiz Time"})]}),Object(h.jsx)("div",{className:"subTitle",children:Object(h.jsx)("h1",{children:"Avilable Quizes"})}),P?V&&(J?Object(h.jsx)("div",{className:"quizPrevCon cursor-pointer flex justify-center items-center w-full flex-col",onClick:function(){!1===ae&&Y(!1)},children:Object(h.jsxs)("div",{className:"quizCon flex justify-center items-start flex-col text-center",children:[Object(h.jsxs)("h1",{className:"w-full text-center",children:["Quiz Name: ",M]}),ae?Object(h.jsxs)("div",{className:"w-full text-center",children:[Object(h.jsx)("p",{className:"w-full text-center",children:"You have already submited the quiz"}),Object(h.jsxs)("h1",{className:"w-full text-center",children:["Score: ",re,"/",oe]})]}):Object(h.jsx)("p",{className:"w-full text-center",children:"Click To Start The Quiz"})]})}):Object(h.jsx)("h1",{className:"w-full text-center",children:'"Quiz are not avilable yet!"'})):Object(h.jsxs)("form",{onSubmit:function(e){return function(e){var t;return e.preventDefault(),I.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)?F&&(t=d.users.doc(F.uid).get().then((function(e){e.exists||(d.users.doc(F.uid).set({fullName:{firstName:u,middleName:O,lastName:v,username:y},email:I,uid:F.uid}),o(""),f(""),S(""),T(""),U(!0))}))):window.location.reload(),t}(e)},className:"formCon flex justify-start items-center flex-col",children:[Object(h.jsxs)("div",{className:"inputCon",children:[Object(h.jsx)("label",{children:"First Name:"}),Object(h.jsx)("input",{type:"text",value:u,required:!0,onChange:function(e){return o(e.target.value)}})]}),Object(h.jsxs)("div",{className:"inputCon",children:[Object(h.jsx)("label",{children:"Middle Name:"}),Object(h.jsx)("input",{type:"text",value:O,required:!0,onChange:function(e){return f(e.target.value)}})]}),Object(h.jsxs)("div",{className:"inputCon",children:[Object(h.jsx)("label",{children:"Last Name:"}),Object(h.jsx)("input",{type:"text",value:v,required:!0,onChange:function(e){return S(e.target.value)}})]}),Object(h.jsxs)("div",{className:"inputCon",children:[Object(h.jsx)("label",{children:"Username:"}),Object(h.jsx)("input",{type:"text",value:y,required:!0,minLength:"4",maxLength:"10",onChange:function(e){return A(e.target.value)}})]}),Object(h.jsxs)("div",{className:"inputCon",children:[Object(h.jsx)("label",{children:"Email:"}),Object(h.jsx)("input",{type:"email",value:I,required:!0,onChange:function(e){return T(e.target.value)}})]}),Object(h.jsx)("button",{type:"submit",children:"Save"})]}),!V&&Object(h.jsx)(g,{}),Object(h.jsx)("div",{className:"logOutCon w-full flex justify-center items-center",children:Object(h.jsx)("button",{className:"",onClick:je,children:"LogOut"})})]})}n(29);function Q(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),n=t[0],i=t[1],a=m().logIn,c=function(){var e=Object(N.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(""),e.next=4,a();case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),i("Failed To Log In"),console.log(n);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"welcomePage flex justify-center items-center flex-col",children:[Object(h.jsxs)("div",{className:"logoCon flex justify-center items-center",children:[Object(h.jsx)("img",{src:C,alt:"logo"}),Object(h.jsx)("h1",{children:"Quiz Time"})]}),Object(h.jsx)("p",{className:"text-center"}),Object(h.jsx)("div",{className:"logInBtnCon flex justify-center items-center font-mono",children:Object(h.jsx)("button",{onClick:c,children:"Log In"})}),Object(h.jsxs)("p",{className:"quoteCon text-center",children:[Object(h.jsx)("span",{children:'"'}),"You should know little about a lot",Object(h.jsx)("span",{children:'"'})]})]})})}function y(){var e=m().currentUser,t=p(),n=t.logInCheck,s=t.setLogInCheck;return e&&l.onAuthStateChanged((function(e){e?s(!0):e||s(!1)})),Object(h.jsx)(h.Fragment,{children:n?Object(h.jsx)(w,{}):Object(h.jsx)(Q,{})})}var A=function(){return Object(h.jsx)(f,{children:Object(h.jsxs)(z,{children:[Object(h.jsx)(y,{}),Object(h.jsx)("div",{className:"borderCon"})]})})};c.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(A,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.4ea81da1.chunk.js.map